{{!
    This file is part of Moodle - http://moodle.org/

    Moodle is free software: you can redistribute it and/or modify
    it under the terms of the GNU General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Moodle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU General Public License for more details.

    You should have received a copy of the GNU General Public License
    along with Moodle.  If not, see <http://www.gnu.org/licenses/>.
}}
{{!
    @template mod_hittrainingsnachweis/view


    Example context (json):
    {

    }
}}
<h1>Trainingsnachweise von {{studentname}}</h1>
<h3>Bisherige Wiederholungen ( {{training_wiederholt}} von {{training_wiederholungen}})</h3>
<table class="table">
    <thead>
        <tr>
            <th>Datum</th>
            <th>Bild</th>
            <th>Beschreibung</th>
            <th>Abgezeichnet</th>
            <th>Bewertung</th>
        </tr>
    </thead>
    <tbody>
        {{#entries}}
        <tr>
            <td>{{training_dttm}}</td>
            <td>
                <a href="{{image}}" target="_blank">
                    <img src="{{image}}"
                         max-height="100px"
                         width="100px"
                    >
                </a>
            </td>
            <td>{{beschreibung}}</td>
            <td>{{abgezeichnet}}</td>
            <td>
                <select id="select-{{id}}">
                    <option value="0">nicht bewertet</option>
                    <option value="1">sehr gut</option>
                    <option value="2">gut</option>
                    <option value="3">neutral</option>
                    <option value="4">schlecht</option>
                    <option value="5">sehr schlecht</option>
                </select>
                <script>
                    document.getElementById('select-{{id}}').value = {{bewertung}};
                </script>
                <input type="button" class="btn btn-primary" value="Speichern"
                       onclick="bewerten({{id}}, document.getElementById('select-{{id}}').value)"
                >
            </td>
        </tr>
        {{/entries}}
    </tbody>
</table>
<script>
    var bewerten = function(entryid, bewertung){
        console.log("bewertung", entryid, bewertung);
        window.location.href='/mod/hittrainingsnachweis/abzeichnen.php?cmid={{cmid}}&studentid={{studentid}}&entryid='+entryid+'&bewertung='+bewertung
    }

</script>



